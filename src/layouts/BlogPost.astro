---
import { Image } from 'astro:assets';
import type { ImageMetadata } from 'astro:assets';
import BaseLayout from './BaseLayout.astro';
import FormattedDate from '../components/FormattedDate.astro';

interface Props {
	title: string;
	description: string;
	pubDate: Date;
	updatedDate?: Date;
	heroImage?: ImageMetadata;
}

const { title, description, pubDate, updatedDate, heroImage } = Astro.props;
---

<BaseLayout title={title} description={description} image={heroImage}>
    <article class="post-page">
        <header class="section-heading">
            <p class="eyebrow">Journal</p>
            <h1>{title}</h1>
            <p class="post-meta">
                <FormattedDate date={pubDate} />
                {updatedDate && (
                    <span>
                        &middot; Updated <FormattedDate date={updatedDate} />
                    </span>
                )}
            </p>
        </header>

        {heroImage && (
            <figure class="post-hero-image">
                <Image width={1020} height={510} src={heroImage} alt="" />
            </figure>
        )}

        <section class="post-article prose">
            <slot />
        </section>
    </article>
</BaseLayout>
